## AWTRIX Family

<div align=center>
  <img width="400" src="../assets/family.jpg"/>
</div>

Hier findest du alle Informationen die du zum bau einer AWTRIX benötigst.
Du kannst AWTRIX in 3 verschiedene Größen bauen. Abgesehen von der Matrix ist die Elektronik bei allen gleich.
- AWTRIX Big (~329x98x43mm)
- AWTRIX Midi (~270x74x43mm)
- AWTRIX Mini, früher "Pro" (~202x69x40mm)

Die Gehäuse findest du auf https://www.thingiverse.com/thing:4749750 oder im Shop zu fairem Preis, falls du keinen 3D Drucker besitzt.

# Teileliste

?> Alle Teile findest du auch anderswo (ausgenommen AWTRIX Mini Matrix und evtl. Acrylglas). Du musst nichts in meinem Shop kaufen um deine eigene AWTRIX zu bauen. Dies unterstützt mich allerdings bei der Weiterentwicklung von AWTRIX.
Falls du deinen eigenen Aufbau machen möchtest, so findest du den Grundaufbau der Elektronik [hier](de-de/hardware.md)

### Matrix
|      Name      |                              Link                              |
| :------------: | :------------------------------------------------------------: |
|    Big   | [Klicke hier](https://blueforcer.de/produkt/flexmatrix-8x32/) |
|   Midi | [Klicke hier](https://blueforcer.de/produkt/awtrix-midi-matrix/) |
|  Mini  | [Klicke hier](https://blueforcer.de/produkt/awtrix-mini-matrix/) |

### Acrylglas
|      Name      |                              Link                              |
| :------------: | :------------------------------------------------------------: |
|   Big   | [Klicke hier](https://blueforcer.de/produkt/7980/) |
|   Midi | [Klicke hier](https://blueforcer.de/produkt/awtrix-midi-acrylglas/) |
|   Mini  | [Klicke hier](https://blueforcer.de/produkt/awtrix-pro-acrylglas/) |

### Benötigte Bauteile
|           Name           |                                    Link                                    |
| :----------------------: | :------------------------------------------------------------------------: |
| Awtrix Mainboard Bausatz | [Klicke hier](https://blueforcer.de/produkt/awtrix-mainboard-2-0-bausatz/)  |
|      Wemos D1 mini       |       [Klicke hier](https://blueforcer.de/produkt/wemos-d1-mini/)          |
|      Netzteil (>3A)      |                    [Klicke hier](https://goo.gl/QLydM3)                    |
|       Strombuchse        |                    [Klicke hier](https://blueforcer.de/produkt/dc-einbaubuchse-55mm-x-25mm/)                    |
|         M3x4             |               Maximal 12 Stück je nach Ausbaustufe                         |

### Optionale Bauteile
|      Name      |                              Link                              |
| :------------: | :------------------------------------------------------------: |
|   LDR GL5528   | [Klicke hier](https://blueforcer.de/produkt/ldr-5mm-helligkeitssensor/) |
| DF Mini Player | [Klicke hier](https://blueforcer.de/produkt/dfplayer-mini-mp3-player-modul/) |
|  Lautsprecher  | [Klicke hier](https://blueforcer.de/produkt/awtrix-pro-lautsprecher) |

# AWTRIX Big
1. Montiere die Strombuchse in das Gehäuse. Diese kannst du sowohl an der Seite als auch hinten montieren, die andere, offene Durchführung verschließt du von Innen mit dem Blindstopfen. Schraube Mainboard (Wemos auf der rechten Seite) und und evtl. Raspberry in das Gehäuse und setze den LDR und Lautsprecher ein. Verlöte alle Bauteile miteinander und schiebe die Touchbuttons in die dafür vorgesehenen Aussparungen. Achte hierbei darauf das die Bauteile auf den Buttons nach innen zeigen und die Bedruckte Seite nach Außen.

2. Lege die Flexible Matrix in die Nut, und achte darauf das die Ecken gerade gebogen sind und nicht aus der Nut herausstehen.

3. Setze das Plexiglas in den Rahmen ein, danach das Grid. Nun drückst du den Rahmen mitsamt Acryl und Grid auf das Gehäuse. Durch Druck auf alle 4 Ecken rastet der Rahmen auf dem Gehäuse ein. Achte darauf das die kleinen Aussparungen am Rahmen nach unten Zeigen. Diese sind dafür da, um den Rahmen mit einem Schraubendreher wieder vom Gehäuse abzuhebeln.

# AWTRIX Midi
1. Montiere die Strombuchse in das Gehäuse. Diese kannst du sowohl an der Seite als auch hinten montieren, die andere, offene Durchführung verschließt du von Innen mit dem Blindstopfen. Schraube Mainboard (Wemos auf der rechten Seite) und und evtl. Raspberry in das Gehäuse und setze den LDR und Lautsprecher ein. Verlöte alle Bauteile miteinander und schiebe die Touchbuttons in die dafür vorgesehenen Aussparungen. Achte hierbei darauf das die Bauteile auf den Buttons nach innen zeigen und die Bedruckte Seite nach Außen.

2. Löte die 4 8x8 Matrix Panels mit Hilfe der AWTRIX Midi Connectoren zusammen. Die Matrix wird Falschrum montiert. Bedeutet die Schrift steht auf dem Kopf. Hierbei liegt der D-IN Eingang der ersten matrix auf der Linken Seite.
An dieser Stelle befindet sich im Gehäuse eine Aussparung um platz für Kabel oder Stiftleiste zu machen. Lege das Matrix-Array in die dafür vorgesehene Nut.

3. Setze das Plexiglas in den Rahmen ein, danach das Grid. Achte beim Grid auf die richtige Orientierung. Die glatte seite zeigt nach Außen, die Innenseite hat im Grid einige Aussparungen für die Stiftleisten die von den Matrix verbindungen kommen. Nun drückst du den Rahmen mitsamt Acryl und Grid auf das Gehäuse. Durch Druck auf alle 4 Ecken rastet der Rahmen auf dem Gehäuse ein. Achte darauf das die kleinen Aussparungen am Rahmen nach unten Zeigen. Diese sind dafür da, um den Rahmen mit einem Schraubendreher wieder vom Gehäuse abzuhebeln.

# AWTRIX Mini
1. Montiere die Strombuchse in das Gehäuse. Schraube Mainboard (Wemos auf der rechten Seite) und und evtl. Raspberry in das Gehäuse und setze den LDR und Lautsprecher ein. Verlöte alle Bauteile miteinander und schiebe die Touchbuttons in die dafür vorgesehenen Aussparungen. Achte hierbei darauf das die Bauteile auf den Buttons nach innen zeigen und die Bedruckte Seite nach Außen.

2. Schraube die Matrix in das Grid und achte hierbei auf die Orientierung. Diese siehst du anhand dem "TOP" Schriftzug in dem Grid. Lege die Matrix mit Grid nun in das Gehäuse.

3. Setze nun das Plexiglas in das Gehäuse ein. Dieses rastet an 4 Stellen im Gehäuse ein, benutze ggf einen schmalen Schlitz- Schraubendreher um das Gehäuse etwas wegzudrücken um das Acrylglas in die Aussparungen einrasten zu lassen. Danach nur noch den Rahmen einlegen. Dieses rastet ebenfalls ein.

# Detaillierter Zusammenbau

Diese Anleitung bezieht sich auf die AWTRIX mini, abgesehen von der Kabellänge kann dies aber auf jede Variante übernommen werden.

## 1. Touch Sensoren
- Der Widerstand der LED auf dem Touch Taster kann optional ausgelötet werden. Bei hellem Gehäuse kann das Licht der LED sonst von außen gesehen werden.
- Beim mittleren Taster leuchtet die LED, bei nicht entfernen des Widerstandes, dauerhaft.
- Die Touchsensoren passen theoretisch perfekt in die 3 Aufnahmen. Aufgrund von Drucktoleranzen kann es aber eventuell nötig sein, diese mit doppelseitigen Klebeband zu fixieren oder die Platinen leicht mit Schleifpapier an den Seiten zu glätten.

### 1.1 Linker Touch Sensor (btn_left)
- 3 Kabel auf ca. 14cm ablängen. Falls vorhanden, drei verschiedene Farben.
- Kabelenden auf beiden seiten ca. 2mm abisolieren, verdrillen und verzinnen.
- Kabel NICHT durch die Löcher des Touch Sensors stecken sondern nur von oben auflegen und anlöten. (schwarz = GND ; rot = 3,3V/VCC ; grün = Data/IO)
- Beim Durchstecken tragen die Kabelenden auf der anderen Seite zu weit auf und verhindern ein optimales platzieren des Sensors im Gehäuse
- Die anderen Enden an das Mainboard anlöten. Hier die Kabel durch die dafür vorgesehenen Löcher stecken - gibt mehr stabilität.
<div align=center>
  <img width="400" src="../assets/manualPicture/case/btnLeft.jpg"/>
  <img width="400" src="../assets/manualPicture/case/btnLeft2.jpg"/>
  <img width="400" src="../assets/manualPicture/case/btnLeft3.jpg"/>
</div>

### 1.2 Mittlerer Touch Sensor (btn_middle)
- 3 Kabel auf ca. 14cm ablängen. Falls vorhanden, drei verschiedene Farben.
- Kabelenden auf beiden seiten ca. 2mm abisolieren, verdrillen und verzinnen.
- Kabel NICHT durch die Löcher des Touch Sensors stecken sondern nur von oben auflegen und anlöten. (schwarz = GND ; rot = 3,3V/VCC ; grün = Data/IO)
- Beim Durchstecken tragen die Kabelenden auf der anderen Seite zu weit auf und verhindern ein optimales platzieren des Sensors im Gehäuse
- BRÜCKE A SCHLIEßEN! Ansonsten startet der Wemos D1 mini nicht mehr.
- Die anderen Enden an das Mainboard anlöten. Hier die Kabel durch die dafür vorgesehenen Löcher stecken - gibt mehr stabilität.

<div align=center>
  <img width="400" src="../assets/manualPicture/case/btnMiddle.jpg"/>
  <img width="400" src="../assets/manualPicture/case/btnMiddle2.jpg"/>
</div>

### 1.3 Rechter Touch Sensor (btn_right)
- 3 Kabel auf ca. 14cm ablängen. Falls vorhanden, drei verschiedene Farben.
- Kabelenden auf beiden seiten ca. 2mm abisolieren, verdrillen und verzinnen.
- Kabel NICHT durch die Löcher des Touch Sensors stecken sondern nur von oben auflegen und anlöten. (schwarz = GND ; rot = 3,3V/VCC ; grün = Data/IO)
- Beim Durchstecken tragen die Kabelenden auf der anderen Seite zu weit auf und verhindern ein optimales platzieren des Sensors im Gehäuse
- Die anderen Enden an das Mainboard anlöten. Hier die Kabel durch die dafür vorgesehenen Löcher stecken - gibt mehr stabilität.

<div align=center>
  <img width="400" src="../assets/manualPicture/case/btnRight.jpg"/>
  <img width="400" src="../assets/manualPicture/case/btnRight2.jpg"/>
</div>

## 2. LDR / Lichtsensor
- 2 Kabel auf ca. 7cm ablängen. Kann zwei mal die gleiche Farbe verwendet werden, da keine Polarität.
- Kabelenden auf beiden seiten ca. 2mm abisolieren, verdrillen und verzinnen.
- Die Beinchen des LDR´s auf ca. 3-4mm kürzen und an die Kabel anlöten.
- Die anderen Enden an das Mainboard anlöten. Hier die Kabel durch die dafür vorgesehenen Löcher stecken - gibt mehr stabilität.
- Wie bereits erwähnt ist die Polarität des LDR´s nicht relevant.

<div align=center>
  <img width="400" src="../assets/manualPicture/case/ldr.jpg"/>
  <img width="400" src="../assets/manualPicture/case/ldr2.jpg"/>
</div>

## 3. Lautsprecher
- Der von uns verwendete Lautsprecher hat eine Polarität. Diese gilt es zu beachten.
- rotes Kabel auf ca. 11cm ablängen, schwarzes Kabel auf ca. 13cm ablängen. Kabellängen stimmt hier nur wenn der Lautsprecher exakt wie in dieser Anleitung eingebaut wird!
- rotes Kabel am Plus des Lautsprechers anlöten
- schwarzes Kabel am Minus des Lautsprechers anlöten
- Die Kabel werden auf dem Mainboard unter "Speaker" angelötet. Rotes Kabel an den rechteckigen Pin, schwarzes Kabel an den ovalen Pin.
- Den Lautsprecher kannst du einfach in die Aussparung stecken und muss daher auch nicht weiter fixiert werden.

<div align=center>
  <img width="400" src="../assets/manualPicture/case/speaker.jpg"/>
  <img width="400" src="../assets/manualPicture/case/speaker2.jpg"/>
  <img width="400" src="../assets/manualPicture/case/speaker3.jpg"/>
</div>

## 4. DC-Buchse
- Bei der DC-Buchse ist es besonders wichtig die Polarität zu beachten.
- 2 Kabel auf ca. 8cm ablängen. Zwei unterschiedliche Farben benutzen. (schwarz = GND ; rot = +5V)
- Kabel an die DC-Buchse anlöten. Rot wird an den Mittelkontakt (+5V) gelötet, schwarz an den äußeren Kontakt (GND).
- Anschließend die Buchse ins Gehäuse schrauben.
- Nun können die anderen Enden an das Mainboard angeschlossen werden. (schwarz = GND ; rot = +5V)
- Anschluss erneut überprüfen weil sonst die Matrix Schaden nehmen wird.

<div align=center>
  <img width="400" src="../assets/manualPicture/case/socket.jpg"/>
  <img width="400" src="../assets/manualPicture/case/socket2.jpg"/>
  <img width="400" src="../assets/manualPicture/case/socket3.jpg"/>
</div>

## 5. Matrix in Grid schrauben
- Die Matrix wird mit 4 Schrauben (M3x4) mit dem Grid verschraubt.
- Die Schrauben nur sehr leicht anziehen. Andernfalls kann die Matrix Schaden nehmen und die Plastikgewinde im Grid gehen kaputt.
- Beim Einsetzen der Matrix in das Grid auf die Richtung achten. Für jeden Kondensator gibt es eine Aussparung im Grid. Hat man die Matrix richtig herum vor sich, sieht man links am Rand keine Kondensatoren während rechts am Rand Kondensatoren sitzen. Im Grid gibt es eine Seite wo außen keine Aussparungen sind. Diese müssen mit der Matrix übereinstimmen!

<div align=center>
  <img width="400" src="../assets/manualPicture/case/matrix2.jpg"/>
  <img width="400" src="../assets/manualPicture/case/matrix3.jpg"/>
</div>

## 6. Matrix
- 3 Kabel auf ca. 12cm ablängen. Falls vorhanden, drei verschiedene Farben. (schwarz = GND ; rot = +5V ; grün = Data/data_in)
- Kabel an die Matrix löten. Es ist besonders wichtig, dass die drei Kontakte zum anschließen gewählt werden in denen "data_in" vorkommt. (schwarz = GND ; rot = +5V ; grün = data_in)
- Anschließend die Kabel auf dem Mainboard bei der Bezeichnung "Matrix" anlöten. (schwarz = GND ; rot = +5V ; grün = Data)
- Anschluss erneut überprüfen weil sonst die Matrix Schaden nehmen wird.

<div align=center>
  <img width="400" src="../assets/manualPicture/case/matrix.jpg"/>
</div>

## 7. Mainboard
- Das Mainboard wird mit vier Schrauben (M3x4) im Gehäuse befestigt.
- Die Schrauben nur sehr leicht anziehen. Andernfalls kann das Plastikgewinde im Gehäuse kaputt gehen.

<div align=center>
  <img width="400" src="../assets/manualPicture/case/mainboard.jpg"/>
</div>

## 8. Serielle Verbindung oder USB-Verbindung zur Matrix

Da AWTRIX im Gehäuse verbaut wird, bietet es sich an den Raspberry direkt per Serial an das Mainboard anzuschließen. Hier wird der Raspberry auch vom Mainboard mit Strom versorgt.

> Der Wemos benötigt weiterhin zwingend eine Verbindung zu einem Netzwerk.
Die WiFi Verbindung wird verwendet, um den Controller auch weiterhin updaten zu können und als Fallback falls keine Daten per Serial übertragen werden.

Dazu wird der Pi wie folgt mit dem Mainboard verbunden:

| Raspberry Pin-No | Mainboard (Raspberry Serial header) |
| ---------------- | ----------------------------------- |
| 04 - 5V          | +5V                                |
| 06 - GND         | GND                                 |
| 08 - TXD         | Rx                                  |
| 10 - RXD         | Tx                                  |

!> **Bitte zwingend auf die Raspberry Version achten. Hier kann es unterschiede geben!**

Standardmäßig muss beim Raspberry die serielle Schnittstelle freigeschaltet werden. Beim Raspberry 3 kann man das über folgende Befehle machen:

```bash
sudo raspi-config nonint do_serial 1
sudo raspi-config nonint set_config_var enable_uart 1 /boot/config.txt
sudo reboot
```

## 9. Grid ins Gehäuse einsetzen
- Nun ist es Zeit das Gehäuse zu schließen und die Matrix in Betrieb zu nehmen.
- Sollte dein Wemos D1 mini an dieser Stelle noch nicht mit der Controller Software bespielt worden sein, dann tue dies bevor du das Gehäuse schließt!
- Leg dir das Gehäuse so hin, dass die Touch Taster und der LDR nach oben/von dir weg schauen.
- Beim Einlegen des Grids in das Gehäuse müssen die Anschlusskabel der Matrix nun auf der linken Seite sein.

<div align=center>
  <img width="400" src="../assets/manualPicture/case/timeToFinish.jpg"/>
  <img width="400" src="../assets/manualPicture/case/finish.jpg"/>
</div>

- Setzte nun das Acrylglas leicht schräg ein, benutze ggf einen schmalen Schlitz- Schraubendreher um das Gehäuse etwas wegzudrücken um das Acrylglas in die Aussparungen einrasten zu lassen.
- Nun nur noch den Rahmen einlegen und einrasten lassen.

## 10. FERTIG
- Hast du Fragen? Dann stelle diese bitte [auf Discord](https://discord.com/invite/EhzeZDyspzs). Durch öffentliche Fragen profitieren ggf. noch weitere Nutzer.
- Zeige uns deine fertige Matrix auf Facebook oder auf Discord.
- Viel Spaß mit deiner Matrix!

<div align=center>
  <img width="400" src="../assets/manualPicture/case/finish2.jpg"/>
</div>
